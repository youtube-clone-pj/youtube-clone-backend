services:
  controller:
    image: ngrinder/controller:latest
    container_name: ngrinder-controller
    ports:
      - "8090:80"
      - "16001:16001"
      - "12000:12000"
      - "12001:12001"
      - "12002:12002"
      - "12003:12003"
      - "12004:12004"
      - "12005:12005"
      - "12006:12006"
      - "12007:12007"
      - "12008:12008"
      - "12009:12009"
      - "12010:12010"

  agent:
    image: ngrinder/agent:latest
    container_name: ngrinder-agent
    command: ["controller:80"]
    depends_on:
      - controller